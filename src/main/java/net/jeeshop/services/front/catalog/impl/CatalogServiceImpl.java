package net.jeeshop.services.front.catalog.impl;import java.util.List;import net.jeeshop.core.ServersManager;import net.jeeshop.core.front.SystemManager;import net.jeeshop.services.front.catalog.CatalogService;import net.jeeshop.services.front.catalog.bean.Catalog;import net.jeeshop.services.front.catalog.dao.CatalogDao;import org.apache.commons.lang.StringUtils;public class CatalogServiceImpl extends ServersManager<Catalog> implements		CatalogService {	private CatalogDao catalogDao;	public void setCatalogDao(CatalogDao catalogDao) {		this.catalogDao = catalogDao;	}	// 加载根节点	public List<Catalog> loadRoot(Catalog e) {		List<Catalog> root = catalogDao.selectList(e);		for (int i = 0; i < root.size(); i++) {			Catalog ee = root.get(i);//			SystemManager.catalogMap.put(Integer.valueOf(ee.getId()), Integer.valueOf(ee.getPid()));			loadChildrenByPid(ee);		}//		Catalog top = new Catalog();//		top.setName("-");//		top.setId("0");//		top.setPid("0");//		root.add(0, top);		return root;	}	/**	 * 加载指定节点下的全部子节点	 * 	 * @param item	 */	private void loadChildrenByPid(Catalog item) {		Catalog e = new Catalog();		e.setPid(item.getId());		item.setChildren(catalogDao.selectList(e));		if (item.getChildren() != null && item.getChildren().size() > 0) {			for (int i = 0; i < item.getChildren().size(); i++) {				Catalog ee = item.getChildren().get(i);//				SystemManager.catalogMap.put(Integer.valueOf(ee.getId()), Integer.valueOf(ee.getPid()));				loadChildrenByPid(ee);			}		}	}	}