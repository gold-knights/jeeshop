package net.jeeshop.web.action.manage.advert;import net.jeeshop.core.BaseAction;import net.jeeshop.services.manage.advert.AdvertService;import net.jeeshop.services.manage.advert.bean.Advert;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.context.annotation.Scope;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.ModelAttribute;import org.springframework.web.bind.annotation.RequestMapping;/** * 广告管理 * @author huangf * */@Scope("prototype")   @Controller   @RequestMapping("/manage/advert")public class AdvertAction extends BaseAction<Advert> {	private static final Logger logger = LoggerFactory.getLogger(AdvertAction.class);	private static final long serialVersionUID = 1L;	@Autowired	private AdvertService advertService;	{		toList = "/manage/advert/advertList";		toAdd = "/manage/advert/advertEdit";		toEdit = "/manage/advert/advertEdit";	}		@ModelAttribute	public void initStrutsActionParam(){		this.server = advertService ;	}			protected void selectListAfter() {		pager.setPagerUrl(getBasePath()+"/manage/advert/selectList.action");	}	public Advert getE() {		return this.e;	}	public void prepare() throws Exception {		if (this.e == null) {			this.e = new Advert();		}		super.initPageSelect();	}	public void insertAfter(Advert e) {		e.clear();	}		@Override	public String insert() throws Exception {		logger.error(">>>AdvertAction.insert");		getSession().setAttribute("insertOrUpdateMsg", "添加广告成功！");		getServer().insert(getE());		String id = e.getId();		logger.error(">>>AdvertAction.insert ,id = "+id);		e.clear();		response.sendRedirect("toEdit2.action?id="+id);		return null;	}		@Override	public String update() throws Exception {		getSession().setAttribute("insertOrUpdateMsg", "更新广告成功！");		String id = e.getId();		super.update();		response.sendRedirect("toEdit2.action?id="+id);		return null;	}		/**	 * 编辑	 */	public String toEdit() throws Exception {		getSession().setAttribute("insertOrUpdateMsg", "");//列表页面进行编辑文章的时候,需要清空信息		return toEdit0();	}		/**	 * 编辑	 */	@RequestMapping("/toEdit2")	public String toEdit2() throws Exception {		return toEdit0();	}	@RequestMapping("/toEdit0")	private String toEdit0() throws Exception {		super.toEdit();		return toEdit;	}	}