package net.jeeshop.web.action.manage.gift;import net.jeeshop.core.BaseAction;import net.jeeshop.core.ManageContainer;import net.jeeshop.core.system.bean.User;import net.jeeshop.services.manage.gift.GiftService;import net.jeeshop.services.manage.gift.bean.Gift;import org.apache.commons.lang.StringUtils;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.context.annotation.Scope;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.ModelAttribute;import org.springframework.web.bind.annotation.RequestMapping;@Scope("prototype")   @Controller   @RequestMapping("/manage/gift")  public class GiftAction extends BaseAction<Gift> {	private static final long serialVersionUID = 1L;	@Autowired	private GiftService giftService;	@ModelAttribute	public void initStrutsActionParam(){		this.server = giftService ;	}		{		toList = "/manage/gift/giftList";		toAdd = "/manage/gift/giftEdit";		toEdit = "/manage/gift/giftEdit";		show = "/manage/gift/show";	}		protected void selectListAfter() {		pager.setPagerUrl(getBasePath() + "manage/gift/selectList.action");	}	public Gift getE() {		return this.e;	}	public void prepare() throws Exception {		if (this.e == null) {			this.e = new Gift();		}	}	public void insertAfter(Gift e) {		e.clear();	}		@Override	public String insert() throws Exception {		User user = (User)getSession().getAttribute(ManageContainer.manage_session_user_info);		e.setCreateAccount(user.getUsername());		return super.insert();	}		@Override	public String update() throws Exception {		User user = (User)getSession().getAttribute(ManageContainer.manage_session_user_info);		e.setUpdateAccount(user.getUsername());		return super.update();	}		/**	 * 查看商品赠品的基本信息	 * @return	 */	@RequestMapping("/show")	public String show(){		if(StringUtils.isBlank(e.getId())){			throw new NullPointerException("id不能为空！");		}		e = giftService.selectById(e.getId());		model.addAttribute("e",e);		return super.show;	}}